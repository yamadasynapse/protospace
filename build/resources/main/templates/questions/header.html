<!-- /home/tyamada/java-projects/protospace/src/main/resources/templates/questions/header.html -->
<header class="header" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
  <div class="nav">
    <div class="nav_left">
      <a href="/" class="logo">ProtoSpace</a>
    </div>
    <div class="nav_right">
      <!-- ログイン状態の場合 -->
      <div sec:authorize="isAuthenticated()">
        <a class="nav_btn" th:href="@{/prototypes/new}">New Proto</a> <!-- 適切なURLに修正してください -->
        <!-- ログアウトはPOSTリクエストで行うためフォームを使用 -->
        <form th:action="@{/logout}" method="post" style="display:inline;">
          <!-- CSRFトークンを自動で埋め込む -->
          <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
          <button type="submit" class="nav_btn">ログアウト</button>
        </form>
      </div>
      <!-- ログアウト状態の場合 -->
      <div sec:authorize="isAnonymous()">
        <a class="nav_btn" th:href="@{/users/sign_in}">ログイン</a>
        <a class="nav_btn signup" th:href="@{/users/sign_up}">新規登録</a>
      </div>
    </div>
  </div>
</header>